{"version":3,"file":"index.ssr.js","sources":["../../../node_modules/vue-runtime-helpers/dist/normalize-component.mjs","../../../node_modules/vue-runtime-helpers/dist/inject-style/server.mjs","../src/ErrorMessage.vue","../src/Icon.vue","../src/Lookahead.vue","../src/Paginator.vue","../src/URN.js"],"sourcesContent":["function normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\r\n    if (typeof shadowMode !== 'boolean') {\r\n        createInjectorSSR = createInjector;\r\n        createInjector = shadowMode;\r\n        shadowMode = false;\r\n    }\r\n    // Vue.extend constructor export interop.\r\n    const options = typeof script === 'function' ? script.options : script;\r\n    // render functions\r\n    if (template && template.render) {\r\n        options.render = template.render;\r\n        options.staticRenderFns = template.staticRenderFns;\r\n        options._compiled = true;\r\n        // functional template\r\n        if (isFunctionalTemplate) {\r\n            options.functional = true;\r\n        }\r\n    }\r\n    // scopedId\r\n    if (scopeId) {\r\n        options._scopeId = scopeId;\r\n    }\r\n    let hook;\r\n    if (moduleIdentifier) {\r\n        // server build\r\n        hook = function (context) {\r\n            // 2.3 injection\r\n            context =\r\n                context || // cached call\r\n                    (this.$vnode && this.$vnode.ssrContext) || // stateful\r\n                    (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\r\n            // 2.2 with runInNewContext: true\r\n            if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\r\n                context = __VUE_SSR_CONTEXT__;\r\n            }\r\n            // inject component styles\r\n            if (style) {\r\n                style.call(this, createInjectorSSR(context));\r\n            }\r\n            // register component module identifier for async chunk inference\r\n            if (context && context._registeredComponents) {\r\n                context._registeredComponents.add(moduleIdentifier);\r\n            }\r\n        };\r\n        // used by ssr in case component is cached and beforeCreate\r\n        // never gets called\r\n        options._ssrRegister = hook;\r\n    }\r\n    else if (style) {\r\n        hook = shadowMode\r\n            ? function (context) {\r\n                style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));\r\n            }\r\n            : function (context) {\r\n                style.call(this, createInjector(context));\r\n            };\r\n    }\r\n    if (hook) {\r\n        if (options.functional) {\r\n            // register for functional component in vue file\r\n            const originalRender = options.render;\r\n            options.render = function renderWithStyleInjection(h, context) {\r\n                hook.call(context);\r\n                return originalRender(h, context);\r\n            };\r\n        }\r\n        else {\r\n            // inject component registration as beforeCreate hook\r\n            const existing = options.beforeCreate;\r\n            options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\r\n        }\r\n    }\r\n    return script;\r\n}\n\nexport default normalizeComponent;\n//# sourceMappingURL=normalize-component.mjs.map\n","function createInjectorSSR(context) {\r\n    if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\r\n        context = __VUE_SSR_CONTEXT__;\r\n    }\r\n    if (!context)\r\n        return () => { };\r\n    if (!('styles' in context)) {\r\n        context._styles = context._styles || {};\r\n        Object.defineProperty(context, 'styles', {\r\n            enumerable: true,\r\n            get: () => context._renderStyles(context._styles)\r\n        });\r\n        context._renderStyles = context._renderStyles || renderStyles;\r\n    }\r\n    return (id, style) => addStyle(id, style, context);\r\n}\r\nfunction addStyle(id, css, context) {\r\n    const group = process.env.NODE_ENV === 'production' ? css.media || 'default' : id;\r\n    const style = context._styles[group] || (context._styles[group] = { ids: [], css: '' });\r\n    if (!style.ids.includes(id)) {\r\n        style.media = css.media;\r\n        style.ids.push(id);\r\n        let code = css.source;\r\n        if (process.env.NODE_ENV !== 'production' && css.map) {\r\n            // https://developer.chrome.com/devtools/docs/javascript-debugging\r\n            // this makes source maps inside style tags work properly in Chrome\r\n            code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */';\r\n            // http://stackoverflow.com/a/26603875\r\n            code +=\r\n                '\\n/*# sourceMappingURL=data:application/json;base64,' +\r\n                    Buffer.from(unescape(encodeURIComponent(JSON.stringify(css.map)))).toString('base64') +\r\n                    ' */';\r\n        }\r\n        style.css += code + '\\n';\r\n    }\r\n}\r\nfunction renderStyles(styles) {\r\n    let css = '';\r\n    for (const key in styles) {\r\n        const style = styles[key];\r\n        css +=\r\n            '<style data-vue-ssr-id=\"' +\r\n                Array.from(style.ids).join(' ') +\r\n                '\"' +\r\n                (style.media ? ' media=\"' + style.media + '\"' : '') +\r\n                '>' +\r\n                style.css +\r\n                '</style>';\r\n    }\r\n    return css;\r\n}\n\nexport default createInjectorSSR;\n//# sourceMappingURL=server.mjs.map\n","<template>\n  <div class=\"error-message\">\n    <slot />\n  </div>\n</template>\n\n<script>\n  export default {};\n</script>\n\n<style lang=\"scss\" scoped>\n  .error-message {\n    border: 1px solid var(--sv-error-message-border-color, #9b4436);\n    background: var(--sv-error-message-background-color, #f0ccc6);\n    color: var(--sv-error-message-text-color, #9b4436);\n    border-radius: 5px;\n    padding: 1rem 3rem;\n    text-align: center;\n    font-size: 18px;\n    margin-top: 40px;\n  }\n</style>\n","<template>\n  <font-awesome-icon :icon=\"icon\" v-if=\"inline\"></font-awesome-icon>\n  <font-awesome-icon :icon=\"icon\" v-else fixed-width></font-awesome-icon>\n</template>\n\n<script>\n  import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\n\n  export default {\n    name: 'icon',\n    props: ['name', 'inline'],\n    components: {\n      FontAwesomeIcon,\n    },\n    computed: {\n      icon() {\n        return this.$scaife.iconMap[this.name];\n      },\n    },\n  };\n</script>\n","<template>\n  <div class=\"form-group\">\n    <div class=\"input-group u-flex\">\n      <input\n        class=\"form-control\"\n        v-model=\"query\"\n        :placeholder=\"placeholder\"\n        @input=\"onInput\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\n  import debounce from 'lodash.debounce';\n\n  export default {\n    props: ['placeholder', 'reducer', 'data'],\n    data() {\n      return {\n        query: '',\n        results: null,\n        reduce: true,\n      };\n    },\n    watch: {\n      $route: 'resetQuery',\n      query: 'updateData',\n    },\n    methods: {\n      updateData() {\n        // Prevents intermediate flash reload of stale data on query reset.\n        if (this.reduce) {\n          this.results = this.reducer(this.data, this.query);\n          this.$emit('filter-data', this.results);\n        }\n        this.reduce = true;\n      },\n      resetQuery() {\n        this.query = '';\n        this.reduce = false;\n      },\n      onInput() {\n        debounce(e => {\n          this.query = e.target.value;\n        }, 500);\n      },\n    },\n  };\n</script>\n","<template>\n  <nav class=\"paginator\" :key=\"urnString\">\n    <router-link\n      v-if=\"urn\"\n      :to=\"{ path: 'reader', query: { urn: urnString } }\"\n    >\n      <Icon :name=\"icon\" />\n    </router-link>\n    <span v-else class=\"disabled\"><Icon :name=\"icon\" /></span>\n  </nav>\n</template>\n\n<script>\n  import Icon from './Icon.vue';\n\n  export default {\n    name: 'Paginator',\n    props: ['urn', 'direction'],\n    components: { Icon },\n    computed: {\n      icon() {\n        return `chevron-${this.direction}`;\n      },\n      urnString() {\n        return this.urn.toString();\n      },\n    },\n  };\n</script>\n\n<style lang=\"scss\" scoped>\n  nav.paginator {\n    min-width: 5em;\n    width: auto;\n    position: sticky;\n    top: 2em;\n    text-align: center;\n    align-self: flex-start;\n    a,\n    .disabled {\n      display: flex;\n      justify-content: center;\n      flex-direction: column;\n      height: calc(100vh - 30px);\n      align-items: center;\n      font-size: 36px;\n    }\n    a {\n      color: var(--sv-paginator-link-text-color, #adb5bd);\n    }\n    a:hover {\n      color: var(--sv-paginator-link-hover-text-color, #343a40);\n      background: var(--sv-paginator-link-hover-background-color, #f8f9fa);\n    }\n    .disabled {\n      color: var(--sv-paginator-disabled-text-color, #dee2e6);\n    }\n  }\n</style>\n","export default class URN {\n  constructor(urn) {\n    this.absolute = urn;\n    this.delimiter = ':';\n    this.scheme = null;\n    this.nid = null;\n    this.nss = null;\n    this.work = null;\n    this.reference = null;\n    this.version = null;\n    this.destructureUrn();\n  }\n\n  destructureUrn() {\n    const split = this.absolute.split(this.delimiter);\n    [this.scheme, this.nid, this.nss, this.work, this.reference] = split;\n    this.version = `${this.scheme}:${this.nid}:${this.nss}:${this.work}:`;\n  }\n\n  toString() {\n    return this.absolute;\n  }\n\n  get lcp() {\n    return this.reference\n      ? this.reference\n          .split('-')[0]\n          .split('.')\n          .slice(-1)[0]\n      : null;\n  }\n}\n"],"names":["const","let"],"mappings":"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"}